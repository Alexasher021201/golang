## 1. 交付层（Delivery Layer）

**定位**：系统的入口，面向用户或上层应用。
 **职责**：

- 接收任务（用户提交的作业/请求）。
- 校验任务参数、权限、资源需求。
- 把外部请求转换成系统内部的标准任务描述。
- 将任务传递给 **调度层**。

**类比**：
 像快递柜 → 用户把包裹放进去，系统帮你登记、贴单，准备派送。

**例子**：

- Kubernetes 的 API Server。
- Hadoop/YARN 的 ResourceManager 接收作业。
- Spark 的 Driver 接收提交任务。

------

## 2. 调度层（Scheduling Layer）

**定位**：系统的大脑，负责任务的分配与资源协调。
 **职责**：

- 收集集群中所有节点的资源使用情况（CPU、内存、GPU 等）。
- 根据调度策略（优先级、公平性、负载均衡等）决定任务放在哪台机器上运行。
- 将任务分配给合适的 **执行层**。

**类比**：
 像快递分拨中心 → 根据目的地和运力，把包裹分配到合适的车辆。

**例子**：

- Kubernetes 的 kube-scheduler。
- YARN 的调度器（Capacity Scheduler / Fair Scheduler）。
- Slurm 的调度核心。

------

## 3. 执行层（Execution Layer）

**定位**：系统的工人，真正去运行任务。
 **职责**：

- 在具体节点上启动进程/容器，运行任务。
- 监控任务状态，回传运行结果。
- 出现异常时（任务失败、节点宕机）上报给调度层，等待重试/迁移。

**类比**：
 像快递员 → 接到分拨的包裹，亲手送到用户手里。

**例子**：

- Kubernetes 的 kubelet（负责在 Node 上启动 Pod）。
- YARN 的 NodeManager。
- Spark 的 Executor。

------

## 三层关系（顺序）

1. **交付层**：接收任务
2. **调度层**：分配任务
3. **执行层**：执行任务

简化流程：
 用户 → **交付层**（提交） → **调度层**（决定跑在哪） → **执行层**（具体执行）